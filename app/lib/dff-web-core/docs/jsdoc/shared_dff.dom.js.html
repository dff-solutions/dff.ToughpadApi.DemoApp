<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: shared/dff.dom.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: shared/dff.dom.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>    /**
     * @namespace dff/dom
     */
    dff.namespace('dff.dom');

    /**
     * Observes given dom element for specfied mutations.
     * For each mutation that is observed the registered observers are notified.
     *
     * @name MutationObserverService
     * @memberOf dff/dom
     * @constructor
     *
     */
    dff.define('dff.dom.MutationObserverService', function () {
        this.observers = [];
    });

    /**
     * Adds an observer that gets notified on mutations.
     *
     * @name addObserver
     * @memberOf dff/dom.MutationObserverService
     * @instance
     *
     * @param {object} observer A observer to notify on mutations.
     */
    dff.dom.MutationObserverService.prototype.addObserver = function (observer) {
        // don't add observer twice
        if (this.observers.indexOf(observer) &lt; 0) {
            this.observers.push(observer);
        }
    };

    /**
     * Removes all observers.
     *
     * @name clearObservers
     * @memberOf dff/dom.MutationObserverService
     * @instance
     */
    dff.dom.MutationObserverService.prototype.clearObservers = function () {
        this.observers = [];
    };

    /**
     * Listens to mutations and notifies all observers which listen to the mutations type.
     *
     * @name onMutation
     * @memberOf dff/dom.MutationObserverService
     * @instance
     *
     * @param {object} mutation A mutation observed and observers should be notified about.
     */
    dff.dom.MutationObserverService.prototype.onMutation = function(mutation) {
        this.observers.forEach(function (observer) {
            if (observer.types.indexOf(mutation.type) >= 0) {
                observer.onMutation(mutation);
            }
        });
    };

    /**
     * Observes a DOM element on specified mutations.
     *
     * @name observe
     * @memberOf dff/dom.MutationObserverService
     * @instance
     *
     * @param {object} element DOM element to observe.
     * @param {object} config Options that define which kind of mutation should be observed.
     * @param {boolean} config.childList               Set to true if child elements should be observed.
     * @param {boolean} config.attributes              Set to true if element attributes should be observed.
     * @param {boolean} config.characterData           Set to true if element data should be observed.
     * @param {boolean} config.subtree                 Set to true if changes below child notes should also be observed.
     * @param {boolean} config.attributeOldValue       Set to true if old value of attributes should be observed.
     * @param {boolean} config.characterDataOldValue   Set to true if old data values should be observed.
     */
    dff.dom.MutationObserverService.prototype.observe = function (element, config) {
        var self = this;

        var observer = new MutationObserver(function(mutations) {
              mutations.forEach(function(mutation) {
                self.onMutation(mutation);
            });
        });

        observer.observe(element, config);
    };
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="dff_app_cordova_common.PluginService.html">PluginService</a></li><li><a href="dff_app_cordova_toughpadapi.IncomingMessageLogger.html">IncomingMessageLogger</a></li><li><a href="dff_app_cordova_toughpadapi.ToughpadApiService.html">ToughpadApiService</a></li><li><a href="dff_app_cordova_wifi_manager.NetworkStateLogger.html">NetworkStateLogger</a></li><li><a href="dff_app_cordova_wifi_manager.ScanResultsLogger.html">ScanResultsLogger</a></li><li><a href="dff_app_cordova_wifi_manager.WifiMangerService.html">WifiMangerService</a></li><li><a href="dff_app_cordova_wifi_manager.WifiStateLogger.html">WifiStateLogger</a></li><li><a href="dff_app_log.LoggingStoreInterceptor.html">LoggingStoreInterceptor</a></li><li><a href="dff_app_packagepay.EndOfTour.html">EndOfTour</a></li><li><a href="dff_app_packagepay.IncomingMessageLogger.html">IncomingMessageLogger</a></li><li><a href="dff_app_packagepay.Logistician.html">Logistician</a></li><li><a href="dff_app_packagepay.Package.html">Package</a></li><li><a href="dff_app_packagepay.PackagepayService.html">PackagepayService</a></li><li><a href="dff_app_packagepay.Payment.html">Payment</a></li><li><a href="dff_app_packagepay.ServiceConnectionLogger.html">ServiceConnectionLogger</a></li><li><a href="dff_datetime.DateTimeService.html">DateTimeService</a></li><li><a href="dff_dom.MutationObserverService.html">MutationObserverService</a></li><li><a href="dff_gps_tools.ToolsService.html">ToolsService</a></li><li><a href="dff_idb.dff.idb.IDBError.html">IDBError</a></li><li><a href="dff_idb.ObjectStore.html">ObjectStore</a></li><li><a href="dff_iso_3166.CodeService.html">CodeService</a></li><li><a href="dff_log.LoggingService.html">LoggingService</a></li><li><a href="dff_log.Logline.html">Logline</a></li></ul><h3>Namespaces</h3><ul><li><a href="dff.html">dff</a></li><li><a href="dff_app_cordova_common.html">dff/app/cordova/common</a></li><li><a href="dff_app_cordova_toughpadapi.html">dff/app/cordova/toughpadapi</a></li><li><a href="dff_app_cordova_wifi_manager.html">dff/app/cordova/wifi/manager</a></li><li><a href="dff_app_log.html">dff/app/log</a></li><li><a href="dff_app_packagepay.html">dff/app/packagepay</a></li><li><a href="dff_datetime.html">dff/datetime</a></li><li><a href="dff_dom.html">dff/dom</a></li><li><a href="dff_gps_tools.html">dff/gps/tools</a></li><li><a href="dff_idb.html">dff/idb</a></li><li><a href="dff_iso_3166.html">dff/iso/3166</a></li><li><a href="dff_log.html">dff/log</a></li><li><a href="dff_util.html">dff/util</a></li><li><a href="dff_util_guid.html">dff/util/guid</a></li></ul><h3>Global</h3><ul><li><a href="global.html#dffIdbIndexedDBService">dffIdbIndexedDBService</a></li><li><a href="global.html">getObjectStore</a></li><li><a href="global.html#LOG">LOG</a></li><li><a href="global.html#MessageBoxSentShuttlesWorker">MessageBoxSentShuttlesWorker</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Jul 05 2016 16:50:32 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
